"use strict";var VimiumInjector;(function(){var t,n,e,o=VimiumInjector,c={id:"",alive:-1,host:"",version:"",cache:null,clickable:void 0,reload:null,checkIfEnabled:null,$:null,$h:"",$m:null,$r:null,getCommandCount:null,callback:null,destroy:null};if(o)for(t=0,n=Object.keys(o);t<n.length;t++)c[e=n[t]]=o[e];c.alive=-1,VimiumInjector=c})(),(function(t,n){function e(t){var e,c,r,a,f,m,h,v,b,k,p,C,E,$,g=l.lastError,L=VimiumInjector,T=L&&L.clickable,j=L&&L.callback;if(t||(r=g&&g.message,a=l.id||location.host||location.protocol,c=!!(r&&r.lastIndexOf("not exist")>=0&&l.id),false===t?e=": not in the allow list.":!c&&g?e=r?":\n\t"+r:": no backend found.":s>3?(e=r?":\n\t"+r:": retried but failed ("+t+").",c=false):(setTimeout(o,200*s),s++,c=true),c||(e=e||" ("+s+" retries).",console.log("%cVimium C%c: %cfail%c to inject into %c%s%c %s","color:red","color:auto","color:red","color:auto","color:#0c85e9",a,"color:auto",e),j&&L.callback(-1,e))),L&&"function"==typeof L.destroy&&L.destroy(true),f=VimiumInjector={id:d,alive:0,host:d,version:t?t.version:"",cache:null,clickable:T,reload:n(u),checkIfEnabled:null,$:null,$h:t?t.h:"",$m:function(t){VimiumInjector&&VimiumInjector.$r("object"==typeof t?t.t:t)},$r:function(){},getCommandCount:null,callback:j||null,destroy:null},m=document.documentElement,!(t&&m instanceof HTMLHtmlElement))return g;for(v=(h=document.contains(i)?i:(document.head||m).lastChild).nextSibling,b=h.parentElement,k=[],p=0,C=t.s;p<C.length;p++)E=C[p],($=document.createElement("script")).type="text/javascript",$.async=false,$.src=E,b.insertBefore($,v),k.push($);k.length>0&&(k[k.length-1].onload=function(){this.onload=null;for(var t=k.length;0<=--t;)k[t].remove()}),j&&f.callback(0,"loading")}function o(){l.sendMessage(d,{handler:99,scripts:true},e)}function c(){removeEventListener("DOMContentLoaded",c),a(function(){a(function(){setTimeout(o,0)},{timeout:67})},{timeout:330})}var l=chrome.runtime,i=document.currentScript,u=i.src,r=u.indexOf("://")+3,a=requestIdleCallback,s=1,d=u.slice(r,u.indexOf("/",r));VimiumInjector.id=d=i.dataset.extensionId||d,"loading"!==document.readyState?c():addEventListener("DOMContentLoaded",c,true)})(0,function(t){return function(n){function e(){var e,o=document.documentElement;o&&((e=document.createElement("script")).type="text/javascript",e.async=false,e.src=t,console.log("%cVimium C%c begins to reload%s.","color:red","color:auto",1===n?" because it has been updated.":""),(document.head||document.body||o).appendChild(e))}var o,c=VimiumInjector;c&&(o=c.clickable,"function"==typeof c.destroy&&c.destroy(true),c.clickable=o),n?setTimeout(e,200):e()}}),(!document.currentScript||"false"!==(document.currentScript.dataset.vimiumHooks||"").toLowerCase())&&null!==VimiumInjector.clickable&&(function(){var t,n,e,o,c,l,i,u,r;VimiumInjector.clickable=VimiumInjector.clickable||new WeakSet,t=EventTarget,true!==(e=(n=t.prototype).addEventListener).vimiumHooked&&(o=HTMLAnchorElement,c=Element,l=n.addEventListener=function addEventListener(t,n){var l,i,u;return"click"===t&&!(this instanceof o)&&n&&this instanceof c&&(l=VimiumInjector)&&l.clickable&&l.clickable.add(this),2===(u=(i=arguments).length)?e.call(this,t,n):3===u?e.call(this,t,n,i[2]):e.apply(this,i)},u=(i=Function.prototype).toString,r=i.toString=function toString(){return u.apply(this===l?e:this===r?u:this,arguments)},l.vimiumHooked=true,t.vimiumRemoveHooks=function(){delete t.vimiumRemoveHooks,n.addEventListener===l&&(n.addEventListener=e),i.toString===r&&(i.toString=u)},l.prototype=r.prototype=void 0)})();