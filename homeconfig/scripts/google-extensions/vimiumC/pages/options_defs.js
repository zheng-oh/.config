"use strict";var T,E,B,M,V,F,z,A,U,D,G,H,L;S.yu=Object.create(null),S.$o=[],S.prototype.yo=function(t){t.call(this),window.VApi&&R.un(R.ln[this.p],this.Ao(),VApi.z)},S.u=function(){var t,n,i=S.yu,r=[];for(t in i)(n=i[t]).wo||n.Lo(n.fo,R.on(n.p))||r.push(n.p);if(r.length>0&&!confirm(s("dirtyOptions",[r.join("\n  * ")])))return false;for(t in i)if(!(n=i[t]).wo&&!n.Jo())return false;for(t in i.vimSync.wo||i.vimSync.zo(),i.exclusionRules.wo||i.exclusionRules.zo(),i)i[t].wo||i[t].zo();return true},S.ts=function(){var t,n=S.yu;for(t in n)if(!n[t].wo)return true;return false},S.prototype.Lo=function(t,n){return t===n},T=(function(t){function n(i,s){var r,e,o=t.call(this,i,s)||this;return o.So={min:(r=i.min)&&!isNaN(e=parseFloat(r))?e:null,max:(r=i.max)&&!isNaN(e=parseFloat(r))?e:null,default:R.rn[o.p],_o:n.ns},o.Ht.oninput=o.ho,o.Ht.onfocus=o.is.bind(o),o.Ht.setAttribute("autocomplete","off"),o}return y(n,t),n.prototype.No=function(t){this.Ht.value=""+t},n.prototype.Ao=function(){return parseFloat(this.Ht.value)},n.prototype.is=function(){var t=this,n=this.Ht,i=function(n){return t.ss(n)},s=function(){n.removeEventListener("wheel",i,{passive:false}),n.removeEventListener("blur",s),t.rs=0};this.rs=0,n.addEventListener("wheel",i,{passive:false}),n.addEventListener("blur",s)},n.prototype.ss=function(t){var n,i,s,r,e,o,u,h;if(t.preventDefault(),n=this.rs,!((i=Date.now())-n<100&&i+99>n&&n))return this.rs=i,e=(s=this.Ht).value,"function"==typeof(u=(r=(t.deltaY||t.deltaX)>0)?s.stepUp:s.stepDown)?(u.call(s),o=s.value,s.value=e):(h=(u=parseFloat)(s.step)||1,i=(+s.value||0)+(r?h:-h),isNaN(h=u(s.max))||(i=Math.min(i,h)),isNaN(h=u(s.min))||(i=Math.max(i,h)),o=""+i),this.es(o,n>0,false)},n.ns=function(t){return isNaN(t)&&(t=this.default),t=null!=this.min?Math.max(this.min,t):t,null!=this.max?Math.min(this.max,t):t},n})(S),E=(function(t){function n(i,s){var r=t.call(this,i,s)||this,e=i.dataset.map;return r.os=e?JSON.parse(e):r.Ht.dataset.allowNull?n.us:n.hs,r.fs=r.os.length-1,r.fs>1&&"vimSync"!==r.p&&r.Ht.addEventListener("change",r.onTripleStatusesClicked.bind(r),true),r.Ht.onchange=r.ho,r}return y(n,t),n.prototype.No=function(t){var n=true===t||t===this.os[this.fs];this.Ht.checked=n,this.Ht.indeterminate=this.fs>1&&t===this.os[1],this.as=n?this.fs:Math.max(0,this.os.indexOf(t))},n.prototype.Ao=function(){return this.Ht.indeterminate?this.os[1]:this.os[this.Ht.checked?this.fs:0]},n.prototype.onTripleStatusesClicked=function(t){t.preventDefault();var n=this.as;this.as=2===n?1:n?0:2,this.Ht.indeterminate=2===n,this.Ht.checked=2===this.as},n.hs=[false,true],n.us=[false,null,true],n})(S),B=(function(t){function n(i,s){var r=t.call(this,i,s)||this,e=r.Ht.dataset.converter||"",o=e?e.split(" "):[];return r.Ht.oninput=r.ho,o.length>0&&(r.So={cs:o,jr:0,_o:n.ls}),r.Ht.setAttribute("autocomplete","off"),r}return y(n,t),n.prototype.ko=function(){t.prototype.ko.call(this);var n=this.So;n&&(n.jr=0,n.jr=n._o(this.fo)===this.fo?1:0)},n.prototype.No=function(t,n){var i=t.replace(/ /g,"\xa0");true!==n?this.Ht.value=i:this.es(i,true,true)},n.prototype._s=function(){return this.Ht.value.trim().replace(/\xa0/g," ")},n.prototype.Ao=function(){var t=this._s(),i=this.So;return t&&i&&i._o===n.ls&&(i.jr|=2,t=i._o(t),i.jr&=-3),t},n.prototype.Po=function(t){return t!==this._s()},n.ls=function(t){var n,i,s,r,e=this.cs;if(e.indexOf("lower")>=0?t=t.toUpperCase().toLowerCase():e.indexOf("upper")>=0&&(t=t.toLowerCase().toUpperCase()),t=t.normalize(),e.indexOf("chars")<0||2&this.jr&&!(1&this.jr))return t;for(n="",i=0,s=t.replace(/\s/g,"");i<s.length;i++)n.includes(r=s[i])||(n+=r);return n},n})(S),M=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.Ao=function(){var n=t.prototype.Ao.call(this);return n||(n=R.rn[this.p],this.No(n,true)),n},n})(B),V=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.ps=function(t){var n=this.Ht instanceof HTMLInputElement,i=JSON.stringify(t,null,n?1:2);return n?i.replace(/(,?)\n\s*/g,function(t,n){return n?", ":""}):i},n.prototype.No=function(n,i){t.prototype.No.call(this,this.ps(n),i)},n.prototype.Po=function(t){return this.ps(t)!==this._s()},n.prototype.Ao=function(){var n=t.prototype.Ao.call(this),i=null;if(n)try{i=JSON.parse(n)}catch(t){}else i=R.rn[this.p],this.No(i,true);return i},n})(B),F=(function(t){function n(n,i){var s=t.call(this,n,i)||this;return s.gs=true,x(function(){s.Ht.classList.add("masked")}),s.ds=s.vs.bind(s),s.Ht.addEventListener("focus",s.ds),s}return y(n,t),n.prototype.vs=function(){this.ds&&(this.Ht.removeEventListener("focus",this.ds),this.Ht.classList.remove("masked"),this.ds=null,this.gs=false,this.Ht.removeAttribute("placeholder"),this.ko())},n.prototype.No=function(n,i){if(this.gs){var r=this.Ht.dataset.mask||"";(r=s(r||"clickToUnmask")||r)&&(this.Ht.placeholder=r)}else t.prototype.No.call(this,n,i)},n.prototype.Ao=function(){return this.gs?this.fo:t.prototype.Ao.call(this)},n})(B),B.prototype.es=T.prototype.es=function(t,n,i){var s=false;n&&(this.Os=true,(s=document.activeElement!==this.Ht)&&this.Ht.focus(),document.execCommand("undo")),this.Os=i,this.Ht.select(),document.execCommand("insertText",false,t),s&&this.Ht.blur(),this.Os=false},B.prototype.bs=function(t,n,i){var s,r,e,o,u;null!=i||(i=!!t),e=(r=this.Ht).classList,o=r.parentElement,u=(u=(s=this.Ht).nextElementSibling)&&u.classList.contains("tip")?u:null,x(function(){i?(null==u&&((u=document.createElement("div")).className="tip",o.insertBefore(u,s.nextElementSibling)),u.textContent=t,null!==n&&e.add(n||"has-error")):(e.remove("has-error"),e.remove("highlight"),u&&u.remove())})},V.prototype.Lo=S.jo,_.prototype.Mo=function(n){var i,s,r,e,o,u;if(this.fr.length===n)for(i=t("#exclusionToolbar"),s=p("[data-model]",i),i.style.visibility=n?"":"hidden",r=0,e=s.length;r<e;r++)(u=(o=S.yu[s[r].id]).Ht.parentNode.style).visibility=n||o.wo?"":"visible",u.display=!n&&o.wo?"none":""},z=t("#saveOptions"),A=t("#exportButton"),D=(function(){var t,n,i,r=false;return U=function(t){return r=null!=t?t:r},t=function(){this.Os||((this.wo=this.Lo(this.Ao(),this.fo))?r&&!S.ts()&&(z.disabled=true,z.firstChild.data=s("o115"),A.disabled=false,U(false),window.onbeforeunload=null):r||(window.onbeforeunload=function(){return s("beforeUnload")},U(true),z.disabled=false,z.firstChild.data=s("o115_2"),A.disabled=true))},n={Number:T,Boolean:E,Text:B,NonEmptyText:M,JSON:V,MaskedText:F,ExclusionRules:_},i=function(i){var s=new(0,n[i.dataset.model])(i,t);return s.ko(),S.yu[s.p]=s},[].forEach.call(p("[data-model]"),i),i})(),S.yu.exclusionRules.Eo=function(){var t=this,n=t.Ko;n.ondragstart=function(n){(t.ms=n.target).style.opacity="0.5"},n.ondragend=function(){var n=t.ms;t.ms=null,n&&(n.style.opacity="")},n.ondragover=function(t){t.preventDefault()},n.ondrop=function(n){var i,s,r,e,o;n.preventDefault(),i=t.ms,s=(s=n.target).closest(".exclusionRule"),i&&s&&i!==s&&(t.Ko.insertBefore(i,s),r=t.fr,e=i.querySelector(".pattern").vnode,o=s.querySelector(".pattern").vnode,r.splice(r.indexOf(e),1),r.splice(r.indexOf(o),0,e),t.ho())}},S.yu.keyMappings.xo=function(){var t,n,i=u.c,r=i.so,e=r?(function(t){var n,i,s,r,e=t.length>1?"Errors:\n":"Error: ";for(s=0,r=t;s<r.length;s++)n=0,e+=(i=r[s])[0].replace(/%([a-z])/g,function(t,s){return++n,"c"===s?"":"s"===s||"d"===s?i[n]:JSON.stringify(i[n])}),n+1<i.length&&(e+=" "+i.slice(n+1).map(function(t){return"object"==typeof t&&t?JSON.stringify(t):t}).join(" ")+".\n");return e})(r):"";R.Xe.l&&!e&&(t=Object.keys(i.lt).join(""),t+=(n=i.dt)?Object.keys(n).join(""):"",/[^ -\xff]/.test(t))?this.bs(s("ignoredNonEN"),null):this.bs(e)},G=S.yu.linkHintCharacters,H=S.yu.linkHintNumbers,L=S.yu.filterLinkHints,G.xo=H.xo=function(){this.bs(!this.Ht.style.display&&this.fo.length<4?s("96"):"")},L.xo=function(){x(function(t){var n=L.Ao();t.style.display=H.Ht.style.display=n?"":"none",G.Ht.style.display=n?"none":"",G.xo(),H.xo()},t("#waitForEnterBox"))},S.yu.ignoreKeyboardLayout.xo=function(){var n=this;x(function(t){t.style.display=n.Ao()>1?"none":""},t("#ignoreCapsLockBox"))},S.yu.vomnibarPage.xo=function(){var t=this.Ht,n=this.fo,i=n.startsWith(location.protocol)||n.startsWith("front/");if(N<50)return x(function(){t.style.textDecoration=i?"":"line-through"}),this.bs(n===R.rn.vomnibarPage?"":s("onlyExtVomnibar",[50]),null);if(n=R.ce.vomnibarPage_f||n,i);else{if(n.startsWith("file:"))return this.bs(s("fileVomnibar"),"highlight");if(/^http:\/\/(?!localhost[:/])/i.test(n))return this.bs(s("httpVomnibar"),"highlight")}return this.bs("")},S.yu.newTabUrl.So={jr:0,_o:function(t){var n=/^\/?pages\/[a-z]+.html\b/i.test(t)?chrome.runtime.getURL(t):u.r.V(t.toLowerCase());return n=n.split("?",1)[0].split("#",1)[0],t.startsWith("http")||!R.q.has(n)&&!/^(?!http|ftp)[a-z\-]+:\/?\/?newtab\b\/?/i.test(t)?t:R.rn.newTabUrl}},S.yu.autoDarkMode.xo=function(){document.documentElement.classList.toggle("auto-dark",this.fo)};S.yu.autoReduceMotion.xo=function(){document.documentElement.classList.toggle("less-motion",this.fo)},S.yu.userDefinedCss.xo=function(){window.VApi&&VApi.z&&this.Ht.classList.contains("debugging")&&setTimeout(function(){var t,n,i,s,r,e=VApi.y().r,o=p("iframe",e);for(t=0,n=o.length;t<n;t++)s=(i=o[t]).classList.contains("HUD"),(r=i.contentDocument.querySelector("style.debugged"))&&(s?r.remove():r.classList.remove("debugged"));S.yu.userDefinedCss.Ht.classList.remove("debugging")},500)};