"use strict";var KeyMappings={i:function(e,t){var o,n,a,i,s=t,l=e.length;if(l<=s)return null;for(o=r.L();s<l;)0===(n=(a=e[s++]).indexOf("="))||"__proto__"===a||"$"===a[0]&&!"$if=$key=$desc=$count=".includes(a.slice(0,n+1))?this.f("%s option key:",0===n?"Missing":"Unsupported",a):n<0?o[a]=true:(i=a.slice(n+1),o[a=a.slice(0,n)]=i&&this.H(i));return a?o:null},H:function(e){try{return JSON.parse(e)}catch(e){}return e},eo:function(e,t,o){var n,a,i,s,c,u,d,m;if(o||(o=this.to[e]),a=null,i=o[2],n=o.length<4?null:r.T(o[3]),t){if(t.$count?(s=parseFloat(t.$count)||1,delete t.$count,t.count=s):"count"in t&&(t.count=1===o[2]?1:(parseFloat(t.count)||1)*(n&&n.count||1)),(t.$desc||t.$key)&&(a={oo:t.$key||"",no:t.$desc||""},delete t.$key,delete t.$desc),t.$if){if(this.ao(t))return null;delete t.$if}n&&r.r(t,n),2!==o[0]||o[1]||(c=t.mode,u=t.m,m=(d=t.characters)&&l.un("c",d),d&&(delete t.characters,t.c=m),null!=c?(delete t.mode,"number"!=typeof c&&(c=0|this.io[t.action||c||0])):c=u,c>33&&(c=65===c?t.url?64:c:38===c?t.join?55:c:c>79?c-16:c),c!=u&&(t.m=c),i=c>63?1:i)}else t=n;return{St:o[0],Nt:o[1],Mt:e,Dt:a,At:t,Vt:i}},ao:function(e){var t=e&&e.$if;return t?!!t.sys&&t.sys!==l.C.An||!!t.browser&&!(1&t.browser):null},ro:function(e){var t,o,n,a,i,s,u,d,m,p,g,b,v,T=0,f=0,k=new Map,h=new Map,y=null,w=null,_=r.L(),M=this,L=M.to,U="color:red";if(c.so=null,"unmapAll"!==(o=e.replace(/\\\\?\n/g,function(e){return 3===e.length?"\\\n":""}).replace(/[\t ]+/g," ").split("\n"))[0]&&"unmapall"!==o[0])for(w=new Set,a=(m=M.lo.split(" ")).length;0<a;)k.set(m[a-=2],M.eo(m[a+1])),w.add(m[a]);else a=1;for(i=o.length;a<i;a++)if((e=o[a].trim())&&e.charCodeAt(0)>35){if("map"===(t=(n=e.split(" "))[0]))if((t=n[1]||"")&&"__proto__"!==t)if(!k.has(t)||w&&w.has(t))if(n.length<3)M.f('Lacking command when mapping %c"%s"',U,t);else if(s=L[n[2]]){if(!((u=t.charCodeAt(0))>47&&u<58||45===u)){(d=M.eo(n[2],M.i(n,3),s))&&(k.set(t,d),w&&w.delete(t));continue}M.f('Invalid key: %c"%s"',U,t,"(the first char can not be '-' or number)")}else M.f('Command %c"%s"',U,n[2],"doesn't exist!");else M.f('Key %c"%s"',U,t,"has been mapped to",k.get(t).Mt);else M.f('Unsupported key sequence %c"%s"',U,t||'""','for "'+(n[2]||"")+'"');else{if("unmapAll"===t||"unmapall"===t){k=new Map,h=new Map,y=null,w=null,_=r.L(),T=0,f>0&&M.f("All key mappings is unmapped, but there %s been %c%d error%s%c before this instruction",f>1?"have":"has",U,f,f>1?"s":"","color:auto");continue}if("mapkey"===t||"mapKey"===t){if(4===n.length&&null!=(p=M.ao(M.i(n,3)))){if(p)continue;n.length=3}if(3!==n.length)M.f("mapKey: need %s source and target keys:",n.length>3?"only":"both",e);else if((t=n[1]).length>1&&!/^<(?!<[^:])([acms]-){0,4}.\w*?(:[a-z])?>$/.test(t))M.f("mapKey: a source key should be a single key with an optional mode id:",e);else if(n[2].length>1&&!/^<(?!<)(.-){0,4}.\w*?>$/.test(n[2]))M.f("mapKey: a target key should be a single key:",e);else{if(!((t=r.j(t))in _)||_[t]===r.j(n[2])){_[t]=r.j(n[2]),T++;continue}M.f('The key %c"%s"',U,n[1],"has been mapped to another key:",(t=_[t]).length>1?"<"+t+">":t)}}else if("shortcut"===t||"command"===t)if(t=n[1],n.length<3)M.f("Lacking command name and options in shortcut:",e);else if(!(t.startsWith("userCustomized")&&t.length>14)&&l.C.Fn.indexOf(t)<0)M.f('Shortcut %c"%s"',U,t,"is not a valid name");else if(h.has(t))M.f('Shortcut %c"%s"',U,t,"has been configured");else{if(!(t=M.co(h,t,M.i(n,2))))continue;M.f('Shortcut %c"%s"',U,n[1],t)}else if("env"===t)if(n.length<3)M.f("Lacking conditions in env declaration:",e);else{if(!y||!y.has(t)){(y||(y=new Map)).set(n[1],M.i(n,2));continue}M.f('The environment name %c"%s"',U,t,"has been used")}else if("unmap"!==t)M.f('Unknown mapping command: %c"%s"',U,t,"in",e);else if(2!==n.length)M.f("Unmap needs one mapped key:",e);else{if(k.has(t=n[1])){w&&w.delete(t),k.delete(t);continue}M.f('Unmapping: %c"%s"',U,t,"has not been mapped")}}++f}for(g=0,b=l.C.Fn;g<b.length;g++)(v=b[g]).startsWith("user")||h.has(v)||(d=M.eo(v))&&h.set(v,d);c.Et=k,c.uo=w,c.xt=h,c.$t=y,c.dt=l.en.k=T>0?_:null,l.De.Ke=l.De.Ke>0?~f:f},co:function(e,t,o){var n,a=1,i=o&&o.command||(a=0,t.startsWith("user")?"":t),r=i?1:0;return r&&i in this.to&&(a&&delete o.command,(n=this.eo(i,o))&&e.set(t,n),r=2),r<1?'requires a "command" option':r>1?"":"gets an unknown command"},do:function(e){var t,o,n,a=0;for(t in e)a|=(o=t.length)<2?(n=e[t]).length>1?20:t.toUpperCase()!==t&&n.toUpperCase()!==n?8:4:o>2&&":"===t[o-2]?"i"===t[o-1]?1:2:e[t].length>1?20:4;return a},mo:function(e){var t,o,n,a,i,s,u,d,m,p,g,b,v,T=c,f=T.lt=r.L(),k=r.Me,h=r.j,y=T.uo,w=r.h(T.Et),_=c.dt,M=y?w.filter(function(e){return!y.has(e)}):w,L=M.length,U=y?M.concat(r.h(y)):w,x=KeyMappings,S=l.De,B=S.Ke;for(B<0&&(S.Ke=~B),e&&(t=w.join().includes(":i>")?64:0,T._t=_?x.do(_)|t:t),o=10;0<=--o;)f[o]=1;for(f["-"]=1,n=0;n<U.length;n++)if(0!=(s=(i=(a=U[n]).match(k)).length-1)){for(d=f,m=void 0,p=0;(m=d[h(i[p])])&&p<s;)p++,d=m;if(null!=m&&(n>=L||0===m))n>=L?T.Et.delete(a):e&&x.po(a,i.slice(0,p+1).join(""));else{for(null!=m&&e&&x.po(m,a);p<s;)d=d[h(i[p++])]=r.L();d[h(i[s])]=0}}else{if((u=h(a))in f){if(n>=L){T.Et.delete(a);continue}e&&x.po(f[u],a)}f[u]=0}for(a in e&&S.Ke?console.log("%c%o errors found.","background-color:#fffbe5",S.Ke):B<0&&console.log("The new key mappings have no errors"),c.uo=null,e&&c.so&&console.groupEnd(),g=Exclusions.rt(),b=function(e){var t,o;for(t in e)0!==(o=e[t])?b(o):(true===g||0!==f[t]||g&&t in g)&&!t.startsWith("v-")||delete e[t]},f)0===(v=f[a])?a.startsWith("v-")&&delete f[a]:1!==v&&b(v)},f:function(){c.so||(console.group("Errors in custom Key mappings:"),c.so=[]),c.so.push([].slice.call(arguments,0)),console.log.apply(console,arguments)},po:function(e,t){this.f('Inactive key: %o with "%s"',e,t),++l.De.Ke},Wt:function(e,t){var o,n,i,s,l=e.command;(o=(l=l?l+"":"")?this.to[l]:null)&&((t.tab?a.gn(t.tab.id,t.frameId||0)||(a.gn(t.tab.id)||[null])[0]:null)||o[1])&&(i=this.eo(l,n=e.options),s=e.count,i&&(s="-"!==s?parseInt(s,10)||1:-1,n&&"object"==typeof n?r.T(n):n=null))},lo:"? showHelp d scrollPageDown f LinkHints.activate gf nextFrame gg scrollToTop gi focusInput gn toggleVomnibarStyle gs toggleViewSource gt nextTab gu goUp gF mainFrame gT previousTab gU goToRoot g0 firstTab g$ lastTab h scrollLeft i enterInsertMode j scrollDown k scrollUp l scrollRight n performFind o Vomnibar.activate r reload t createTab u scrollPageUp v enterVisualMode x removeTab yt duplicateTab yy copyCurrentUrl zH scrollToLeft zL scrollToRight G scrollToBottom H goBack L goForward R reloadGivenTab V enterVisualLineMode K nextTab J previousTab N performBackwardsFind W moveTabToNextWindow X restoreTab / enterFindMode ` Marks.activate ^ visitPreviousTab [[ goPrevious ]] goNext << moveTabLeft >> moveTabRight <a-c> previousTab <a-v> nextTab <a-m> toggleMuteTab <a-n> performAnotherFind <a-p> togglePinTab <a-r> reloadTab <a-t> createTab <a-R> reopenTab <c-e> scrollDown <c-y> scrollUp <f1> simBackspace <f2> switchFocus <f8> enterVisualMode <s-f1> switchFocus <a-s-c> nextTab b Vomnibar.activateBookmarks ge Vomnibar.activateUrl gE Vomnibar.activateUrlInNewTab m Marks.activateCreateMode p openCopiedUrlInCurrentTab yf LinkHints.activateModeToCopyLinkUrl B Vomnibar.activateBookmarksInNewTab F LinkHints.activateModeToOpenInNewTab O Vomnibar.activateInNewTab P openCopiedUrlInNewTab T Vomnibar.activateTabSelection <a-f> LinkHints.activateModeWithQueue",to:{__proto__:null,"LinkHints.activate":[2,0,0,{m:0}],"LinkHints.activateMode":[2,0,0,{m:0}],"LinkHints.activateModeToCopyLinkText":[2,0,0,{m:38}],"LinkHints.activateModeToCopyLinkUrl":[2,0,0,{m:40}],"LinkHints.activateModeToDownloadImage":[2,0,0,{m:35}],"LinkHints.activateModeToDownloadLink":[2,0,0,{m:42}],"LinkHints.activateModeToEdit":[2,0,1,{m:66}],"LinkHints.activateModeToHover":[2,0,0,{m:32}],"LinkHints.activateModeToLeave":[2,0,0,{m:33}],"LinkHints.activateModeToUnhover":[2,0,0,{m:33}],"LinkHints.activateModeToOpenImage":[2,0,0,{m:36}],"LinkHints.activateModeToOpenIncognito":[2,0,0,{m:43}],"LinkHints.activateModeToOpenInNewForegroundTab":[2,0,0,{m:3}],"LinkHints.activateModeToOpenInNewTab":[2,0,0,{m:2}],"LinkHints.activateModeToOpenVomnibar":[2,0,1,{m:65}],"LinkHints.activateModeToSearchLinkText":[2,0,0,{m:37}],"LinkHints.activateModeToSelect":[2,0,0,{m:67}],"LinkHints.activateModeWithQueue":[2,0,0,{m:18}],"LinkHints.click":[2,0,0,{direct:true,m:0}],"LinkHints.unhoverLast":[8,0,1,{u:true}],"Marks.activate":[3,0,0],"Marks.activateCreateMode":[3,0,0,{mode:"create"}],"Marks.activateGotoMode":[3,0,0],"Marks.clearGlobal":[15,1,1],"Marks.clearLocal":[15,1,1,{local:true}],"Vomnibar.activate":[8,1,0],"Vomnibar.activateBookmarks":[8,1,1,{mode:"bookm",autoSelect:1}],"Vomnibar.activateBookmarksInNewTab":[8,1,1,{mode:"bookm",newtab:1,autoSelect:1}],"Vomnibar.activateEditUrl":[8,1,0,{url:true}],"Vomnibar.activateEditUrlInNewTab":[8,1,0,{url:true,newtab:1}],"Vomnibar.activateHistory":[8,1,1,{mode:"history",autoSelect:1}],"Vomnibar.activateHistoryInNewTab":[8,1,1,{mode:"history",newtab:1,autoSelect:1}],"Vomnibar.activateInNewTab":[8,1,0,{newtab:1}],"Vomnibar.activateTabSelection":[8,1,1,{mode:"tab",newtab:1,autoSelect:1}],"Vomnibar.activateUrl":[8,1,0,{url:true}],"Vomnibar.activateUrlInNewTab":[8,1,0,{url:true,newtab:1}],addBookmark:[10,1,0],autoCopy:[12,0,1,{copy:true}],autoOpen:[12,0,1,{o:1}],blank:[0,1,1],clearCS:[13,1,1,{type:"images"}],clearFindHistory:[14,1,1],closeDownloadBar:[26,1,1,{all:1}],closeOtherTabs:[32,1,1,{other:true}],closeTabsOnLeft:[32,1,0,{count:-1e6}],closeTabsOnRight:[32,1,0,{count:1e6}],captureTab:[12,1,1],copyCurrentTitle:[16,1,1,{type:"title"}],copyCurrentUrl:[16,1,1],copyWindowInfo:[16,1,0,{type:"window"}],createTab:[17,1,20],debugBackground:[28,1,1,{reuse:1,url:"chrome://extensions/?id=$id",id_mask:"$id",url_mask:""}],discardTab:[18,1,0],duplicateTab:[19,1,20],editText:[14,0,0],enableCSTemp:[40,1,0,{type:"images",incognito:true}],enterFindMode:[5,1,1,{active:true,selected:true}],enterInsertMode:[2,1,1,{insert:true}],enterVisualLineMode:[9,1,1,{mode:"line"}],enterVisualMode:[9,1,1],firstTab:[21,1,0,{absolute:true}],focusInput:[13,0,0],focusOrLaunch:[28,1,1,{reuse:1}],goBack:[0,0,0,{count:-1}],goForward:[0,0,0],goNext:[1,1,0,{sed:true}],goPrevious:[1,1,0,{sed:true,rel:"prev"}],goToRoot:[22,1,0,{}],goUp:[22,1,0,{count:-1,type:"frame"}],joinTabs:[23,1,1],lastTab:[21,1,0,{count:-1,absolute:true}],mainFrame:[24,1,1],moveTabLeft:[25,1,0,{count:-1}],moveTabRight:[25,1,0],moveTabToIncognito:[26,1,1,{incognito:true}],moveTabToNewWindow:[26,1,0],moveTabToNextWindow:[27,1,0],newTab:[17,1,20],nextFrame:[3,1,0],nextTab:[21,1,0],openCopiedUrlInCurrentTab:[28,1,1,{reuse:0,copied:true}],openCopiedUrlInNewTab:[28,1,20,{copied:true}],openUrl:[28,1,20],parentFrame:[4,1,0],passNextKey:[10,0,0],performAnotherFind:[5,1,0,{index:"other"}],performBackwardsFind:[5,1,0,{count:-1}],performFind:[5,1,0],previousTab:[21,1,0,{count:-1}],quickNext:[21,1,0],reload:[0,0,1,{r:1}],reloadGivenTab:[29,1,0,{single:true}],reloadTab:[29,1,0],removeRightTab:[30,1,0],removeTab:[31,1,0],reopenTab:[33,1,1],reset:[8,0,1,{r:1}],restoreGivenTab:[34,1,0],restoreTab:[35,1,25],runKey:[36,1,0],scrollDown:[5,0,0],scrollFullPageDown:[5,0,0,{view:2}],scrollFullPageUp:[5,0,0,{dir:-1,view:2}],scrollLeft:[5,0,0,{dir:-1,axis:"x"}],scrollPageDown:[5,0,0,{dir:.5,view:2}],scrollPageUp:[5,0,0,{dir:-.5,view:2}],scrollPxDown:[5,0,0,{view:1}],scrollPxLeft:[5,0,0,{dir:-1,axis:"x",view:1}],scrollPxRight:[5,0,0,{axis:"x",view:1}],scrollPxUp:[5,0,0,{dir:-1,view:1}],scrollRight:[5,0,0,{axis:"x"}],scrollSelect:[15,0,0],scrollTo:[5,0,0,{dest:"min"}],scrollToBottom:[5,0,0,{dest:"max"}],scrollToLeft:[5,0,0,{axis:"x",dest:"min"}],scrollToRight:[5,0,0,{axis:"x",dest:"max"}],scrollToTop:[5,0,0,{dest:"min"}],scrollUp:[5,0,0,{dir:-1}],searchAs:[12,0,1,{s:1,copied:true,selected:true}],searchInAnother:[37,1,1],sendToExtension:[38,1,0],showHelp:[7,1,1],showTip:[39,1,1],simBackspace:[13,0,1,{act:"backspace"}],sortTabs:[23,1,1,{sort:"recency",windows:"current"}],switchFocus:[13,0,1,{act:"switch"}],toggleCS:[40,1,0,{type:"images"}],toggleLinkHintCharacters:[6,1,1,{key:"linkHintCharacters"}],toggleMuteTab:[41,1,1],togglePinTab:[42,1,0],toggleStyle:[16,0,1],toggleSwitchTemp:[6,1,1],toggleViewSource:[43,1,1,{opener:true}],toggleReaderMode:[43,1,1,{reader:true,reuse:0,opener:true}],toggleVomnibarStyle:[44,1,1,{style:"dark"}],visitPreviousTab:[46,1,0],zoomIn:[45,1,0],zoomOut:[45,1,0,{count:-1}]},io:{"copy-text":38,focus:34,hover:32,image:36,input:66,leave:33,text:38,unhover:33,url:40,visual:67}},c=c||{lt:null,dt:null,_t:0,Et:null,uo:null,$t:null,so:null,xt:null,Rt:["character","word","","lineboundary","line","sentence","paragraph","documentboundary"],It:{l:1,h:0,j:9,k:8,$:7,0:6,"}":13,"{":12,")":11,"(":10,w:5,W:5,e:3,b:2,B:2,G:15,g:{g:14},gg:14,o:20,a:{w:21,s:25},aw:21,as:25,y:31,Y:32,C:33,"c-s-c":36,p:34,P:35,n:47,N:46,f1:48,"a-f1":48,v:51,V:52,c:53,"/":55,"c-e":62,"c-y":61,"c-down":62,"c-up":61}};a.Bn&&(1&l.De.Ve&&(KeyMappings.ro(l.on("keyMappings")),KeyMappings.mo(true),l.on("vimSync")||l.De.He||(KeyMappings=null)),chrome.commands.onCommand.addListener(a.nr)),KeyMappings&&(l.mn.keyMappings=function(e){var t,o,n,a=c.dt,i=c.lt;null!=e&&KeyMappings.ro(e),KeyMappings.mo(null!=e),t=JSON.stringify,o=c.dt,((n=a?!o||t(a)!==t(o):!!o)||t(c.lt)!==t(i))&&l.hn({N:9,m:c.dt,t:c._t,k:c.lt}),n&&l.dn({N:47,d:{k:c.dt}})});